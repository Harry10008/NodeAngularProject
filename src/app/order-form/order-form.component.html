<app-navbar></app-navbar>
<div class="container">
  <!-- <div class="text-center mb-4">
      <button (click)="home()" class="btn btn-primary me-5">Home</button>
      <button (click)="register()" class="btn btn-primary me-5">Register User</button>
      <button (click)="logout()" class="btn btn-primary me-5">Logout</button>
    </div> -->

    <div class="text-center mb-4">
      <h2>Order Form</h2>
    </div>
  
    <div class="row justify-content-center">
      <div class="col-md-6 col-lg-5">
        <form [formGroup]="orderform" (ngSubmit)="onsubmit()">
          <div class="mb-3">
            <label for="user_id" class="form-label">Employee:</label>
            <select 
            type="text"
              id="user_id" 
              formControlName="user_id" 
              required 
              class="form-control">
              <option value="" disabled selected>Select an employee</option>
              <!-- Loop through the 'data' array and display user names -->
              <option *ngFor="let user of data" [value]="user.id">{{ user.name }}</option>
            </select>
            <div *ngIf="orderform.controls['user_id'].invalid && orderform.controls['user_id'].touched" class="text-danger">
              <div *ngIf="orderform.controls['user_id'].hasError('required')">*select an Employee </div> 
            </div>
          </div>
  
          <div class="mb-3">
            <label for="order_name" class="form-label">Select Item:</label>
            <select 
              id="order_name" 
              formControlName="order_name" 
              required
              type="text" 
              class="form-control">
              <option value="" disabled selected>Select a product</option>
              <option value="pizza">Pizza</option>
              <option value="Sandwitch">Sandwitch</option>
              <option value="Burger">Burger</option>
            </select>
            <div *ngIf="orderform.controls['order_name'].invalid && orderform.controls['order_name'].touched" class="text-danger">
              <div *ngIf="orderform.controls['order_name'].hasError('required')">*select a Product</div>
            </div>
          </div>
  
          <div class="mb-3">
            <label for="quantity" class="form-label">Quantity:</label>
            <input 
              class="form-control"
              id="quantity" 
              formControlName="quantity" 
              required 
              type="number" 
              inputmode="numeric"
              maxlength="2"
              placeholder="Enter Quantity">
            <div *ngIf="orderform.controls['quantity'].invalid && orderform.controls['quantity'].touched" class="text-danger">
              <div *ngIf="orderform.controls['quantity'].hasError('required')">*quantity is required.</div>
              <div *ngIf="orderform.controls['quantity'].hasError('maxlength')">*you exceed the maximum limit</div>
              <div *ngIf="orderform.controls['quantity'].hasError('minlength')">*enter a valid quantity</div>
            </div>
          </div>
  
            <div class="d-flex justify-content-center">
            <button class="btn btn-primary">Submit</button>
          </div>
  
        </form>
        <hr>
        <div>
          <h1 class="text-center mt-5">Today's Order List</h1>
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th>S.NO</th>
                <th>Order Id</th>
                <th>Employee-ID</th>
                <th>Product</th>
                <th>Quantity</th>
                <th>ACTION</th>  
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let order  of orderData ; let i = index">
                
                <td>{{i+1}}</td>
                <td>10{{order.id}}</td>
                <td>100{{order.user_id}}</td>
                <td>{{order.order_name}}</td>
                <td>{{order.quantity}}</td>
                <td>
                  <button (click)="deleteOrder(order.id)" class="btn btn-danger">Delete</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
</div>